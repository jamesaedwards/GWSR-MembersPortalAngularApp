{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../renew.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction RequestInviteEmailComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1, \"This doesn't appear to be right.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"/contact\"];\n};\n\nfunction RequestInviteEmailComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"p\");\n    i0.ɵɵtext(2, \"Your request has been sent. If we match your email address in our database, we will email the renewal invite. If you don't recieve anything within the next 24 hours, please contact the \");\n    i0.ɵɵelementStart(3, \"a\", 9);\n    i0.ɵɵtext(4, \"membership secretary\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nexport let RequestInviteEmailComponent = /*#__PURE__*/(() => {\n  class RequestInviteEmailComponent {\n    constructor(renewService) {\n      this.renewService = renewService;\n      this.isSent = false;\n      this.requestForm = new FormGroup({\n        email: new FormControl('', [Validators.required, Validators.email])\n      });\n    }\n\n    ngOnInit() {}\n\n    send() {\n      var _a;\n\n      if (this.requestForm.valid == false) {\n        return;\n      }\n\n      this.renewService.requestRenewalSent((_a = this.requestForm.get('email')) === null || _a === void 0 ? void 0 : _a.value).subscribe({\n        next: r => this.isSent = true,\n        error: e => alert('Sorry, a server error occured. Please try again later.')\n      });\n    }\n\n  }\n\n  RequestInviteEmailComponent.ɵfac = function RequestInviteEmailComponent_Factory(t) {\n    return new (t || RequestInviteEmailComponent)(i0.ɵɵdirectiveInject(i1.RenewService));\n  };\n\n  RequestInviteEmailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RequestInviteEmailComponent,\n    selectors: [[\"app-request-invite-email\"]],\n    decls: 13,\n    vars: 5,\n    consts: [[1, \"text-huge\"], [3, \"formGroup\", \"submit\"], [3, \"className\"], [\"id\", \"email\", \"type\", \"text\", \"formControlName\", \"email\"], [\"class\", \"text-error text-small\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\"], [\"class\", \"notification notification--success\", 4, \"ngIf\"], [1, \"text-error\", \"text-small\"], [1, \"notification\", \"notification--success\"], [3, \"routerLink\"]],\n    template: function RequestInviteEmailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Lost Security Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"p\");\n        i0.ɵɵtext(3, \"Haven't got or lost your renewal security code? Enter your email address below and we will resend it to you. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \"Please note that this will only work if we have an up-to-date email addresss on record for you. If you don't then you will need contact the membership secretary\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function RequestInviteEmailComponent_Template_form_submit_6_listener() {\n          return ctx.send();\n        });\n        i0.ɵɵelementStart(7, \"div\", 2);\n        i0.ɵɵelement(8, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, RequestInviteEmailComponent_p_9_Template, 2, 0, \"p\", 4);\n        i0.ɵɵelementStart(10, \"button\", 5);\n        i0.ɵɵtext(11, \"Send Request\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(12, RequestInviteEmailComponent_div_12_Template, 5, 2, \"div\", 6);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"formGroup\", ctx.requestForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"className\", ctx.requestForm.controls[\"email\"].invalid && ctx.requestForm.controls[\"email\"].touched ? \"has-error input input-fullWidth\" : \"input input-fullWidth\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.requestForm.controls[\"email\"].invalid && ctx.requestForm.controls[\"email\"].touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.requestForm.valid == false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSent);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i3.NgIf, i4.RouterLinkWithHref],\n    styles: [\"\"]\n  });\n  return RequestInviteEmailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}