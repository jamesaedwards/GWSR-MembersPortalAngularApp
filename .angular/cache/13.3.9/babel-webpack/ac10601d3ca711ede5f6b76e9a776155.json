{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\james\\\\source\\\\repos\\\\GWSR\\\\GWRTMemberAngularApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/tarrif.service\";\nimport * as i2 from \"../join.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/tarrifs-list/tarrifs-list.component\";\nimport * as i5 from \"../persondetails-form/persondetails-form.component\";\nimport * as i6 from \"../../shared/address-form/address-form.component\";\nimport * as i7 from \"../../shared/payment-methods-table/payment-methods-table.component\";\nimport * as i8 from \"../../shared/membership-declarations/membership-declarations.component\";\nimport * as i9 from \"../../shared/please-waitpopup/please-waitpopup.component\";\n\nfunction JoinHomeComponent_app_tarrifs_list_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-tarrifs-list\", 4);\n    i0.ɵɵlistener(\"onTarrifSelect\", function JoinHomeComponent_app_tarrifs_list_1_Template_app_tarrifs_list_onTarrifSelect_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.SetTarrif($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-persondetails-form\", 9);\n    i0.ɵɵlistener(\"onFormCompleted\", function JoinHomeComponent_section_2_div_10_Template_app_persondetails_form_onFormCompleted_1_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.setPersonalDetails($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formData\", ctx_r8.personBasicDetails);\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_11_div_6_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"i\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ad_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" \", ad_r17.title, \" \", ad_r17.firstName, \" \", ad_r17.lastName, \" \");\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_11_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\");\n    i0.ɵɵtemplate(4, JoinHomeComponent_section_2_div_11_div_6_li_4_Template, 3, 3, \"li\", 13);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Added \", ctx_r13.additionalSeatHolders.length, \" out of \", ctx_r13.getTarrifSeats() - 1, \" available\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.additionalSeatHolders);\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_11_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"app-persondetails-form\", 16);\n    i0.ɵɵlistener(\"onFormCompleted\", function JoinHomeComponent_section_2_div_11_div_7_Template_app_persondetails_form_onFormCompleted_1_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.addAdditionalSeat($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_11_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p\");\n    i0.ɵɵtext(2, \"Thank you. You have added the maximum number of joint holders. \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 6);\n    i0.ɵɵtext(2, \"Membership joint-holders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, JoinHomeComponent_section_2_div_11_div_6_Template, 5, 3, \"div\", 3);\n    i0.ɵɵtemplate(7, JoinHomeComponent_section_2_div_11_div_7_Template, 2, 0, \"div\", 10);\n    i0.ɵɵtemplate(8, JoinHomeComponent_section_2_div_11_div_8_Template, 3, 0, \"div\", 11);\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10, \"When you have finished adding joint holders, click next.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_2_div_11_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.step = ctx_r20.step + 1;\n    });\n    i0.ɵɵtext(12, \"Next\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"You can add an additional \", ctx_r9.getTarrifSeats() - 1, \" number of people your selected membership type. Please tell us about the other individuals you want to attach to this membership. Generally speaking, the trust will not contact joint-holders unless we cannot get in touch with you. \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length < ctx_r9.getTarrifSeats() - 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length >= ctx_r9.selectedTarrifSeats - 1);\n  }\n}\n\nfunction JoinHomeComponent_section_2_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"app-address-form\", 19);\n    i0.ɵɵlistener(\"onFormComplete\", function JoinHomeComponent_section_2_div_12_Template_app_address_form_onFormComplete_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.setAddress($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"setAddress\", ctx_r10.address);\n  }\n}\n\nfunction JoinHomeComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"section\", 5)(1, \"h1\", 6);\n    i0.ɵɵtext(2, \"Your Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementStart(4, \"p\")(5, \"strong\");\n    i0.ɵɵtext(6, \"Selected Membership:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementStart(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_2_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.resetTarrif();\n    });\n    i0.ɵɵtext(9, \"Change\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, JoinHomeComponent_section_2_div_10_Template, 2, 1, \"div\", 3);\n    i0.ɵɵtemplate(11, JoinHomeComponent_section_2_div_11_Template, 13, 4, \"div\", 3);\n    i0.ɵɵtemplate(12, JoinHomeComponent_section_2_div_12_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getSelectedTarrifDescription(), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 4);\n  }\n}\n\nfunction JoinHomeComponent_section_3_div_24_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"strong\");\n    i0.ɵɵtext(7, \"Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"strong\");\n    i0.ɵɵtext(11, \"Phone Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵelementStart(14, \"strong\");\n    i0.ɵɵtext(15, \"Mobile Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ah_r28 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate4(\"\", ah_r28.title, \". \", ah_r28.firstName, \" \", ah_r28.middleName, \" \", ah_r28.lastName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ah_r28.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ah_r28.landLineNo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ah_r28.mobileNumber, \" \");\n  }\n}\n\nfunction JoinHomeComponent_section_3_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 22);\n    i0.ɵɵtext(2, \"Additonal Holders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, JoinHomeComponent_section_3_div_24_div_3_Template, 17, 7, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.additionalSeatHolders);\n  }\n}\n\nfunction JoinHomeComponent_section_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"section\", 5)(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Please take a moment to double check the details entered. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 20)(5, \"div\", 21)(6, \"h2\", 22);\n    i0.ɵɵtext(7, \"Personal Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementStart(13, \"strong\");\n    i0.ɵɵtext(14, \"Email: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"strong\");\n    i0.ɵɵtext(18, \"Phone Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵelementStart(21, \"strong\");\n    i0.ɵɵtext(22, \"Mobile Number: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, JoinHomeComponent_section_3_div_24_Template, 4, 1, \"div\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 21)(26, \"h2\", 22);\n    i0.ɵɵtext(27, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\")(29, \"strong\");\n    i0.ɵɵtext(30, \"Line 1: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31);\n    i0.ɵɵelement(32, \"br\");\n    i0.ɵɵelementStart(33, \"strong\");\n    i0.ɵɵtext(34, \"Line 2: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35);\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"strong\");\n    i0.ɵɵtext(38, \"Line 3: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39);\n    i0.ɵɵelement(40, \"br\");\n    i0.ɵɵelementStart(41, \"strong\");\n    i0.ɵɵtext(42, \"Town/City: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43);\n    i0.ɵɵelement(44, \"br\");\n    i0.ɵɵelementStart(45, \"strong\");\n    i0.ɵɵtext(46, \"County: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47);\n    i0.ɵɵelement(48, \"br\");\n    i0.ɵɵelementStart(49, \"strong\");\n    i0.ɵɵtext(50, \"Postcode: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(52, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_3_Template_button_click_52_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.step = 2;\n    });\n    i0.ɵɵtext(53, \"No, somethings wrong\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_3_Template_button_click_54_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.step = 6;\n    });\n    i0.ɵɵtext(55, \"Yes, thats correct\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate4(\"\", ctx_r2.personBasicDetails.title, \". \", ctx_r2.personBasicDetails.firstName, \" \", ctx_r2.personBasicDetails.middleName, \" \", ctx_r2.personBasicDetails.lastName, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.personBasicDetails.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.personBasicDetails.landLineNo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.personBasicDetails.mobileNumber, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.additionalSeatHolders.length > 0);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.address.town);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.address.county);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.address.postCode, \" \");\n  }\n}\n\nfunction JoinHomeComponent_section_4_app_payment_methods_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-payment-methods-table\", 27);\n    i0.ɵɵlistener(\"onMethodSelected\", function JoinHomeComponent_section_4_app_payment_methods_table_1_Template_app_payment_methods_table_onMethodSelected_0_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.selectedPaymentMethod = $event;\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction JoinHomeComponent_section_4_app_membership_declarations_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-membership-declarations\", 28);\n    i0.ɵɵlistener(\"declarationsChange\", function JoinHomeComponent_section_4_app_membership_declarations_2_Template_app_membership_declarations_declarationsChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return ctx_r37.declarations = $event;\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"declarations\", ctx_r33.declarations)(\"selectedTarrifBaseRate\", ctx_r33.selectedTarrifBaseRate);\n  }\n}\n\nfunction JoinHomeComponent_section_4_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_4_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return ctx_r39.createMembership();\n    });\n    i0.ɵɵtext(1, \"Pay Now\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r34.declarations.termsAccepted);\n  }\n}\n\nfunction JoinHomeComponent_section_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 5);\n    i0.ɵɵtemplate(1, JoinHomeComponent_section_4_app_payment_methods_table_1_Template, 1, 0, \"app-payment-methods-table\", 24);\n    i0.ɵɵtemplate(2, JoinHomeComponent_section_4_app_membership_declarations_2_Template, 1, 2, \"app-membership-declarations\", 25);\n    i0.ɵɵtemplate(3, JoinHomeComponent_section_4_button_3_Template, 2, 1, \"button\", 26);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod !== 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod !== 0);\n  }\n}\n\nfunction JoinHomeComponent_section_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\")(1, \"div\", 30)(2, \"p\");\n    i0.ɵɵtext(3, \"Success. Your membership has been created.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction JoinHomeComponent_app_please_waitpopup_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-please-waitpopup\");\n  }\n}\n\nexport class JoinHomeComponent {\n  constructor(tarrifsService, joinService) {\n    this.tarrifsService = tarrifsService;\n    this.joinService = joinService;\n    this.step = 1;\n    this.selectedCategory = 0;\n    this.selectedTarrif = 0;\n    this.selectedTarrifDescription = \"\";\n    this.selectedPaymentMethod = 0; //4 = Direct Debit, 5 = Credit Card.\n\n    this.declarations = {\n      termsAccepted: true,\n      additonalDonation: 0,\n      additonalDonationRepeatOnRenewal: false,\n      giftAidDecl: '',\n      cornishman: 0\n    };\n    this.additionalSeatHolders = [];\n    this.loading = true;\n    this.tarrifs = [];\n  }\n\n  getSelectedTarrifDescription() {\n    return this.tarrifsService.selectedCategory.name + \" - \" + this.tarrifsService.selectedTarrif.description;\n  }\n\n  ngOnInit() {\n    this.tarrifsService.getTarrifs().subscribe({\n      next: r => {\n        this.tarrifs = r;\n        this.loading = false;\n\n        error: () => this.loading = false;\n      }\n    });\n  }\n\n  SetTarrif(selectedTarrif) {\n    // this.selectedTarrif =selectedTarrif.tarrif;\n    // let thisCategory = this.tarrifs.find(i=>i.id == selectedTarrif.category);\n    // this.selectedTarrifDescription = thisCategory?.name + \" - \" + thisCategory?.tarrifs.find(r=>r.id == selectedTarrif.tarrif)?.description;\n    // this.selectedTarrifBaseRate = thisCategory?.tarrifs.find(r=>r.id == selectedTarrif.tarrif)?.rate!;\n    this.step = 2;\n  }\n\n  addAdditionalSeat(additionalPerson) {\n    this.additionalSeatHolders.push(additionalPerson);\n  }\n\n  resetTarrif() {\n    this.selectedTarrifDescription = \"\";\n    this.selectedTarrif = 0;\n    this.step = 1;\n  }\n\n  getTarrifSeats() {\n    return this.tarrifsService.getSelectedTarrifSeats();\n  }\n\n  setPersonalDetails(person) {\n    this.personBasicDetails = person;\n\n    if (this.getTarrifSeats() > 1) {\n      this.step = 3;\n      return;\n    }\n\n    this.step = 4;\n  }\n\n  setAddress(ad) {\n    this.address = ad;\n    this.address.id = '00000000-0000-0000-0000-000000000000';\n    this.step = 5;\n  }\n  /*\r\n  async  registerMember(){\r\n     this.loading = true;\r\n      await this.createPerson().then(async () => {\r\n       await this.createAddress().then(async () => {\r\n        await this.createMembership();\r\n       }).catch((e) => {\r\n          alert(e);\r\n       }).catch((e) => {\r\n        alert(e);\r\n       });\r\n      }).catch((e) => {\r\n        alert(e);\r\n      });\r\n  \r\n    }\r\n  async createPerson(){\r\n    this.joinService.createPerson(this.personBasicDetails).subscribe(r => {\r\n      this.personGuid = r;\r\n      this.address.id = r;\r\n      return r;\r\n    }).unsubscribe();\r\n  }\r\n  async createAddress(){\r\n    setTimeout(() => {\r\n      this.joinService.createAddress(this.address).subscribe(r=> {\r\n        return;\r\n      }).unsubscribe();\r\n     }, 500);\r\n  \r\n  } */\n\n\n  createMembership() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.loading = true;\n      let requestDTO = {\n        membership: {\n          selectedPaymentMethod: _this.selectedPaymentMethod,\n          personId: _this.personGuid,\n          additionalDonation: _this.declarations.additonalDonation,\n          repeatDonationOnRenewal: _this.declarations.additonalDonationRepeatOnRenewal,\n          jointHolders: _this.additionalSeatHolders,\n          membershipTarrifId: _this.tarrifsService.selectedTarrif.id,\n          giftAidDeclaration: _this.declarations.giftAidDecl === 'true' ? true : false,\n          cornishman: _this.cornishman\n        },\n        person: _this.personBasicDetails,\n        address: _this.address\n      };\n\n      _this.joinService.createMembership(requestDTO).subscribe({\n        next: r => {\n          _this.loading = false;\n          _this.step = 7;\n          window.location.href = r.paymentUrl;\n          return;\n        },\n        error: e => {\n          alert(\"We are sorry, but we couldn't create your membership at this time. Please try again later.\");\n          _this.loading = false;\n        }\n      });\n    })();\n  }\n\n  toTop() {\n    window.scroll(0, 0);\n  }\n\n}\n\nJoinHomeComponent.ɵfac = function JoinHomeComponent_Factory(t) {\n  return new (t || JoinHomeComponent)(i0.ɵɵdirectiveInject(i1.TarrifService), i0.ɵɵdirectiveInject(i2.JoinService));\n};\n\nJoinHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JoinHomeComponent,\n  selectors: [[\"app-join-home\"]],\n  decls: 7,\n  vars: 6,\n  consts: [[1, \"mb-big\"], [3, \"onTarrifSelect\", 4, \"ngIf\"], [\"class\", \"p-big\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"onTarrifSelect\"], [1, \"p-big\"], [1, \"text-huge\"], [1, \"button\", \"button--small\", 3, \"click\"], [\"class\", \"p-medium\", 4, \"ngIf\"], [3, \"formData\", \"onFormCompleted\"], [\"class\", \"border-top border-bottom p-medium\", 4, \"ngIf\"], [\"class\", \"border-top border-bottom\", 4, \"ngIf\"], [1, \"button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fa-solid\", \"fa-check\"], [1, \"border-top\", \"border-bottom\", \"p-medium\"], [3, \"onFormCompleted\"], [1, \"border-top\", \"border-bottom\"], [1, \"p-medium\"], [3, \"setAddress\", \"onFormComplete\"], [1, \"row\"], [1, \"col\", \"col-md-6\"], [1, \"text-big\"], [1, \"button\", \"button--red\", \"button-small\", 3, \"click\"], [3, \"onMethodSelected\", 4, \"ngIf\"], [3, \"declarations\", \"selectedTarrifBaseRate\", \"declarationsChange\", 4, \"ngIf\"], [\"class\", \"button button-large\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [3, \"onMethodSelected\"], [3, \"declarations\", \"selectedTarrifBaseRate\", \"declarationsChange\"], [1, \"button\", \"button-large\", 3, \"disabled\", \"click\"], [1, \"notification\", \"notification--success\"]],\n  template: function JoinHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵtemplate(1, JoinHomeComponent_app_tarrifs_list_1_Template, 1, 0, \"app-tarrifs-list\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, JoinHomeComponent_section_2_Template, 13, 4, \"section\", 2);\n      i0.ɵɵtemplate(3, JoinHomeComponent_section_3_Template, 56, 14, \"section\", 2);\n      i0.ɵɵtemplate(4, JoinHomeComponent_section_4_Template, 4, 3, \"section\", 2);\n      i0.ɵɵtemplate(5, JoinHomeComponent_section_5_Template, 4, 0, \"section\", 3);\n      i0.ɵɵtemplate(6, JoinHomeComponent_app_please_waitpopup_6_Template, 1, 0, \"app-please-waitpopup\", 3);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.step === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.step >= 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.step === 5);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.step === 6);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.step === 7);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  directives: [i3.NgIf, i4.TarrifsListComponent, i5.PersondetailsFormComponent, i3.NgForOf, i6.AddressFormComponent, i7.PaymentMethodsTableComponent, i8.MembershipDeclarationsComponent, i9.PleaseWaitpopupComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqb2luLWhvbWUuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/james/source/repos/GWSR/GWRTMemberAngularApp/src/app/join/join-home/join-home.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","JoinHomeComponent_app_tarrifs_list_1_Template","rf","ctx","_r7","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","JoinHomeComponent_app_tarrifs_list_1_Template_app_tarrifs_list_onTarrifSelect_0_listener","$event","ɵɵrestoreView","ctx_r6","ɵɵnextContext","SetTarrif","ɵɵelementEnd","JoinHomeComponent_section_2_div_10_Template","_r12","JoinHomeComponent_section_2_div_10_Template_app_persondetails_form_onFormCompleted_1_listener","ctx_r11","setPersonalDetails","ctx_r8","ɵɵadvance","ɵɵproperty","personBasicDetails","JoinHomeComponent_section_2_div_11_div_6_li_4_Template","ɵɵelement","ɵɵtext","ad_r17","$implicit","ɵɵtextInterpolate3","title","firstName","lastName","JoinHomeComponent_section_2_div_11_div_6_Template","ɵɵtemplate","ctx_r13","ɵɵtextInterpolate2","additionalSeatHolders","length","getTarrifSeats","JoinHomeComponent_section_2_div_11_div_7_Template","_r19","JoinHomeComponent_section_2_div_11_div_7_Template_app_persondetails_form_onFormCompleted_1_listener","ctx_r18","addAdditionalSeat","JoinHomeComponent_section_2_div_11_div_8_Template","JoinHomeComponent_section_2_div_11_Template","_r21","JoinHomeComponent_section_2_div_11_Template_button_click_11_listener","ctx_r20","step","ctx_r9","ɵɵtextInterpolate1","selectedTarrifSeats","JoinHomeComponent_section_2_div_12_Template","_r23","JoinHomeComponent_section_2_div_12_Template_app_address_form_onFormComplete_1_listener","ctx_r22","setAddress","ctx_r10","address","JoinHomeComponent_section_2_Template","_r25","JoinHomeComponent_section_2_Template_button_click_8_listener","ctx_r24","resetTarrif","ctx_r1","getSelectedTarrifDescription","JoinHomeComponent_section_3_div_24_div_3_Template","ah_r28","ɵɵtextInterpolate4","middleName","ɵɵtextInterpolate","email","landLineNo","mobileNumber","JoinHomeComponent_section_3_div_24_Template","ctx_r26","JoinHomeComponent_section_3_Template","_r30","JoinHomeComponent_section_3_Template_button_click_52_listener","ctx_r29","JoinHomeComponent_section_3_Template_button_click_54_listener","ctx_r31","ctx_r2","addressLine1","addressLine2","addressLine3","town","county","postCode","JoinHomeComponent_section_4_app_payment_methods_table_1_Template","_r36","JoinHomeComponent_section_4_app_payment_methods_table_1_Template_app_payment_methods_table_onMethodSelected_0_listener","ctx_r35","selectedPaymentMethod","JoinHomeComponent_section_4_app_membership_declarations_2_Template","_r38","JoinHomeComponent_section_4_app_membership_declarations_2_Template_app_membership_declarations_declarationsChange_0_listener","ctx_r37","declarations","ctx_r33","selectedTarrifBaseRate","JoinHomeComponent_section_4_button_3_Template","_r40","JoinHomeComponent_section_4_button_3_Template_button_click_0_listener","ctx_r39","createMembership","ctx_r34","termsAccepted","JoinHomeComponent_section_4_Template","ctx_r3","JoinHomeComponent_section_5_Template","JoinHomeComponent_app_please_waitpopup_6_Template","JoinHomeComponent","constructor","tarrifsService","joinService","selectedCategory","selectedTarrif","selectedTarrifDescription","additonalDonation","additonalDonationRepeatOnRenewal","giftAidDecl","cornishman","loading","tarrifs","name","description","ngOnInit","getTarrifs","subscribe","next","r","error","additionalPerson","push","getSelectedTarrifSeats","person","ad","id","requestDTO","membership","personId","personGuid","additionalDonation","repeatDonationOnRenewal","jointHolders","membershipTarrifId","giftAidDeclaration","window","location","href","paymentUrl","e","alert","toTop","scroll","ɵfac","JoinHomeComponent_Factory","t","ɵɵdirectiveInject","TarrifService","JoinService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","JoinHomeComponent_Template","directives","NgIf","TarrifsListComponent","PersondetailsFormComponent","NgForOf","AddressFormComponent","PaymentMethodsTableComponent","MembershipDeclarationsComponent","PleaseWaitpopupComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../shared/tarrif.service\";\r\nimport * as i2 from \"../join.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"../../shared/tarrifs-list/tarrifs-list.component\";\r\nimport * as i5 from \"../persondetails-form/persondetails-form.component\";\r\nimport * as i6 from \"../../shared/address-form/address-form.component\";\r\nimport * as i7 from \"../../shared/payment-methods-table/payment-methods-table.component\";\r\nimport * as i8 from \"../../shared/membership-declarations/membership-declarations.component\";\r\nimport * as i9 from \"../../shared/please-waitpopup/please-waitpopup.component\";\r\nfunction JoinHomeComponent_app_tarrifs_list_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"app-tarrifs-list\", 4);\r\n    i0.ɵɵlistener(\"onTarrifSelect\", function JoinHomeComponent_app_tarrifs_list_1_Template_app_tarrifs_list_onTarrifSelect_0_listener($event) { i0.ɵɵrestoreView(_r7); const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.SetTarrif($event); });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction JoinHomeComponent_section_2_div_10_Template(rf, ctx) { if (rf & 1) {\r\n    const _r12 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-persondetails-form\", 9);\r\n    i0.ɵɵlistener(\"onFormCompleted\", function JoinHomeComponent_section_2_div_10_Template_app_persondetails_form_onFormCompleted_1_listener($event) { i0.ɵɵrestoreView(_r12); const ctx_r11 = i0.ɵɵnextContext(2); return ctx_r11.setPersonalDetails($event); });\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r8 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"formData\", ctx_r8.personBasicDetails);\r\n} }\r\nfunction JoinHomeComponent_section_2_div_11_div_6_li_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\");\r\n    i0.ɵɵelement(1, \"i\", 14);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ad_r17 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate3(\" \", ad_r17.title, \" \", ad_r17.firstName, \" \", ad_r17.lastName, \" \");\r\n} }\r\nfunction JoinHomeComponent_section_2_div_11_div_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"ul\");\r\n    i0.ɵɵtemplate(4, JoinHomeComponent_section_2_div_11_div_6_li_4_Template, 3, 3, \"li\", 13);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r13 = i0.ɵɵnextContext(3);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate2(\"Added \", ctx_r13.additionalSeatHolders.length, \" out of \", ctx_r13.getTarrifSeats() - 1, \" available\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r13.additionalSeatHolders);\r\n} }\r\nfunction JoinHomeComponent_section_2_div_11_div_7_Template(rf, ctx) { if (rf & 1) {\r\n    const _r19 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"app-persondetails-form\", 16);\r\n    i0.ɵɵlistener(\"onFormCompleted\", function JoinHomeComponent_section_2_div_11_div_7_Template_app_persondetails_form_onFormCompleted_1_listener($event) { i0.ɵɵrestoreView(_r19); const ctx_r18 = i0.ɵɵnextContext(3); return ctx_r18.addAdditionalSeat($event); });\r\n    i0.ɵɵelementEnd()();\r\n} }\r\nfunction JoinHomeComponent_section_2_div_11_div_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p\");\r\n    i0.ɵɵtext(2, \"Thank you. You have added the maximum number of joint holders. \");\r\n    i0.ɵɵelementEnd()();\r\n} }\r\nfunction JoinHomeComponent_section_2_div_11_Template(rf, ctx) { if (rf & 1) {\r\n    const _r21 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 6);\r\n    i0.ɵɵtext(2, \"Membership joint-holders\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(3, \"hr\");\r\n    i0.ɵɵelementStart(4, \"p\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(6, JoinHomeComponent_section_2_div_11_div_6_Template, 5, 3, \"div\", 3);\r\n    i0.ɵɵtemplate(7, JoinHomeComponent_section_2_div_11_div_7_Template, 2, 0, \"div\", 10);\r\n    i0.ɵɵtemplate(8, JoinHomeComponent_section_2_div_11_div_8_Template, 3, 0, \"div\", 11);\r\n    i0.ɵɵelementStart(9, \"p\");\r\n    i0.ɵɵtext(10, \"When you have finished adding joint holders, click next.\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"button\", 12);\r\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_2_div_11_Template_button_click_11_listener() { i0.ɵɵrestoreView(_r21); const ctx_r20 = i0.ɵɵnextContext(2); return ctx_r20.step = ctx_r20.step + 1; });\r\n    i0.ɵɵtext(12, \"Next\");\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r9 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\"You can add an additional \", ctx_r9.getTarrifSeats() - 1, \" number of people your selected membership type. Please tell us about the other individuals you want to attach to this membership. Generally speaking, the trust will not contact joint-holders unless we cannot get in touch with you. \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length > 0);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length < ctx_r9.getTarrifSeats() - 1);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.additionalSeatHolders.length >= ctx_r9.selectedTarrifSeats - 1);\r\n} }\r\nfunction JoinHomeComponent_section_2_div_12_Template(rf, ctx) { if (rf & 1) {\r\n    const _r23 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"app-address-form\", 19);\r\n    i0.ɵɵlistener(\"onFormComplete\", function JoinHomeComponent_section_2_div_12_Template_app_address_form_onFormComplete_1_listener($event) { i0.ɵɵrestoreView(_r23); const ctx_r22 = i0.ɵɵnextContext(2); return ctx_r22.setAddress($event); });\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r10 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"setAddress\", ctx_r10.address);\r\n} }\r\nfunction JoinHomeComponent_section_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r25 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"section\", 5)(1, \"h1\", 6);\r\n    i0.ɵɵtext(2, \"Your Details\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(3, \"hr\");\r\n    i0.ɵɵelementStart(4, \"p\")(5, \"strong\");\r\n    i0.ɵɵtext(6, \"Selected Membership:\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵelementStart(8, \"button\", 7);\r\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_2_Template_button_click_8_listener() { i0.ɵɵrestoreView(_r25); const ctx_r24 = i0.ɵɵnextContext(); return ctx_r24.resetTarrif(); });\r\n    i0.ɵɵtext(9, \"Change\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵtemplate(10, JoinHomeComponent_section_2_div_10_Template, 2, 1, \"div\", 3);\r\n    i0.ɵɵtemplate(11, JoinHomeComponent_section_2_div_11_Template, 13, 4, \"div\", 3);\r\n    i0.ɵɵtemplate(12, JoinHomeComponent_section_2_div_12_Template, 2, 1, \"div\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(7);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getSelectedTarrifDescription(), \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 3);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.step === 4);\r\n} }\r\nfunction JoinHomeComponent_section_3_div_24_div_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\r\n    i0.ɵɵtext(3, \"Name: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelement(5, \"br\");\r\n    i0.ɵɵelementStart(6, \"strong\");\r\n    i0.ɵɵtext(7, \"Email: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelement(9, \"br\");\r\n    i0.ɵɵelementStart(10, \"strong\");\r\n    i0.ɵɵtext(11, \"Phone Number: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelement(13, \"br\");\r\n    i0.ɵɵelementStart(14, \"strong\");\r\n    i0.ɵɵtext(15, \"Mobile Number: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(16);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ah_r28 = ctx.$implicit;\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate4(\"\", ah_r28.title, \". \", ah_r28.firstName, \" \", ah_r28.middleName, \" \", ah_r28.lastName, \"\");\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ah_r28.email);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ah_r28.landLineNo);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\"\", ah_r28.mobileNumber, \" \");\r\n} }\r\nfunction JoinHomeComponent_section_3_div_24_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 22);\r\n    i0.ɵɵtext(2, \"Additonal Holders\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(3, JoinHomeComponent_section_3_div_24_div_3_Template, 17, 7, \"div\", 13);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r26 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.additionalSeatHolders);\r\n} }\r\nfunction JoinHomeComponent_section_3_Template(rf, ctx) { if (rf & 1) {\r\n    const _r30 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"section\", 5)(1, \"p\")(2, \"strong\");\r\n    i0.ɵɵtext(3, \"Please take a moment to double check the details entered. \");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(4, \"div\", 20)(5, \"div\", 21)(6, \"h2\", 22);\r\n    i0.ɵɵtext(7, \"Personal Details\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\r\n    i0.ɵɵtext(10, \"Name: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelement(12, \"br\");\r\n    i0.ɵɵelementStart(13, \"strong\");\r\n    i0.ɵɵtext(14, \"Email: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(15);\r\n    i0.ɵɵelement(16, \"br\");\r\n    i0.ɵɵelementStart(17, \"strong\");\r\n    i0.ɵɵtext(18, \"Phone Number: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(19);\r\n    i0.ɵɵelement(20, \"br\");\r\n    i0.ɵɵelementStart(21, \"strong\");\r\n    i0.ɵɵtext(22, \"Mobile Number: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(23);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(24, JoinHomeComponent_section_3_div_24_Template, 4, 1, \"div\", 3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(25, \"div\", 21)(26, \"h2\", 22);\r\n    i0.ɵɵtext(27, \"Address\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(28, \"p\")(29, \"strong\");\r\n    i0.ɵɵtext(30, \"Line 1: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(31);\r\n    i0.ɵɵelement(32, \"br\");\r\n    i0.ɵɵelementStart(33, \"strong\");\r\n    i0.ɵɵtext(34, \"Line 2: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(35);\r\n    i0.ɵɵelement(36, \"br\");\r\n    i0.ɵɵelementStart(37, \"strong\");\r\n    i0.ɵɵtext(38, \"Line 3: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(39);\r\n    i0.ɵɵelement(40, \"br\");\r\n    i0.ɵɵelementStart(41, \"strong\");\r\n    i0.ɵɵtext(42, \"Town/City: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(43);\r\n    i0.ɵɵelement(44, \"br\");\r\n    i0.ɵɵelementStart(45, \"strong\");\r\n    i0.ɵɵtext(46, \"County: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(47);\r\n    i0.ɵɵelement(48, \"br\");\r\n    i0.ɵɵelementStart(49, \"strong\");\r\n    i0.ɵɵtext(50, \"Postcode: \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(51);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(52, \"button\", 23);\r\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_3_Template_button_click_52_listener() { i0.ɵɵrestoreView(_r30); const ctx_r29 = i0.ɵɵnextContext(); return ctx_r29.step = 2; });\r\n    i0.ɵɵtext(53, \"No, somethings wrong\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(54, \"button\", 12);\r\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_3_Template_button_click_54_listener() { i0.ɵɵrestoreView(_r30); const ctx_r31 = i0.ɵɵnextContext(); return ctx_r31.step = 6; });\r\n    i0.ɵɵtext(55, \"Yes, thats correct\");\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(11);\r\n    i0.ɵɵtextInterpolate4(\"\", ctx_r2.personBasicDetails.title, \". \", ctx_r2.personBasicDetails.firstName, \" \", ctx_r2.personBasicDetails.middleName, \" \", ctx_r2.personBasicDetails.lastName, \"\");\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.personBasicDetails.email);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.personBasicDetails.landLineNo);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.personBasicDetails.mobileNumber, \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.additionalSeatHolders.length > 0);\r\n    i0.ɵɵadvance(7);\r\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine1);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine2);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.address.addressLine3);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.address.town);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(ctx_r2.address.county);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.address.postCode, \" \");\r\n} }\r\nfunction JoinHomeComponent_section_4_app_payment_methods_table_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r36 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"app-payment-methods-table\", 27);\r\n    i0.ɵɵlistener(\"onMethodSelected\", function JoinHomeComponent_section_4_app_payment_methods_table_1_Template_app_payment_methods_table_onMethodSelected_0_listener($event) { i0.ɵɵrestoreView(_r36); const ctx_r35 = i0.ɵɵnextContext(2); return ctx_r35.selectedPaymentMethod = $event; });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction JoinHomeComponent_section_4_app_membership_declarations_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r38 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"app-membership-declarations\", 28);\r\n    i0.ɵɵlistener(\"declarationsChange\", function JoinHomeComponent_section_4_app_membership_declarations_2_Template_app_membership_declarations_declarationsChange_0_listener($event) { i0.ɵɵrestoreView(_r38); const ctx_r37 = i0.ɵɵnextContext(2); return ctx_r37.declarations = $event; });\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r33 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"declarations\", ctx_r33.declarations)(\"selectedTarrifBaseRate\", ctx_r33.selectedTarrifBaseRate);\r\n} }\r\nfunction JoinHomeComponent_section_4_button_3_Template(rf, ctx) { if (rf & 1) {\r\n    const _r40 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 29);\r\n    i0.ɵɵlistener(\"click\", function JoinHomeComponent_section_4_button_3_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r40); const ctx_r39 = i0.ɵɵnextContext(2); return ctx_r39.createMembership(); });\r\n    i0.ɵɵtext(1, \"Pay Now\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r34 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵproperty(\"disabled\", !ctx_r34.declarations.termsAccepted);\r\n} }\r\nfunction JoinHomeComponent_section_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"section\", 5);\r\n    i0.ɵɵtemplate(1, JoinHomeComponent_section_4_app_payment_methods_table_1_Template, 1, 0, \"app-payment-methods-table\", 24);\r\n    i0.ɵɵtemplate(2, JoinHomeComponent_section_4_app_membership_declarations_2_Template, 1, 2, \"app-membership-declarations\", 25);\r\n    i0.ɵɵtemplate(3, JoinHomeComponent_section_4_button_3_Template, 2, 1, \"button\", 26);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r3 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod === 0);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod !== 0);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.selectedPaymentMethod !== 0);\r\n} }\r\nfunction JoinHomeComponent_section_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"section\")(1, \"div\", 30)(2, \"p\");\r\n    i0.ɵɵtext(3, \"Success. Your membership has been created.\");\r\n    i0.ɵɵelementEnd()()();\r\n} }\r\nfunction JoinHomeComponent_app_please_waitpopup_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"app-please-waitpopup\");\r\n} }\r\nexport class JoinHomeComponent {\r\n    constructor(tarrifsService, joinService) {\r\n        this.tarrifsService = tarrifsService;\r\n        this.joinService = joinService;\r\n        this.step = 1;\r\n        this.selectedCategory = 0;\r\n        this.selectedTarrif = 0;\r\n        this.selectedTarrifDescription = \"\";\r\n        this.selectedPaymentMethod = 0; //4 = Direct Debit, 5 = Credit Card.\r\n        this.declarations = {\r\n            termsAccepted: true,\r\n            additonalDonation: 0,\r\n            additonalDonationRepeatOnRenewal: false,\r\n            giftAidDecl: '',\r\n            cornishman: 0\r\n        };\r\n        this.additionalSeatHolders = [];\r\n        this.loading = true;\r\n        this.tarrifs = [];\r\n    }\r\n    getSelectedTarrifDescription() {\r\n        return this.tarrifsService.selectedCategory.name + \" - \" + this.tarrifsService.selectedTarrif.description;\r\n    }\r\n    ngOnInit() {\r\n        this.tarrifsService.getTarrifs().subscribe({\r\n            next: (r) => {\r\n                this.tarrifs = r;\r\n                this.loading = false;\r\n                error: () => this.loading = false;\r\n            }\r\n        });\r\n    }\r\n    SetTarrif(selectedTarrif) {\r\n        // this.selectedTarrif =selectedTarrif.tarrif;\r\n        // let thisCategory = this.tarrifs.find(i=>i.id == selectedTarrif.category);\r\n        // this.selectedTarrifDescription = thisCategory?.name + \" - \" + thisCategory?.tarrifs.find(r=>r.id == selectedTarrif.tarrif)?.description;\r\n        // this.selectedTarrifBaseRate = thisCategory?.tarrifs.find(r=>r.id == selectedTarrif.tarrif)?.rate!;\r\n        this.step = 2;\r\n    }\r\n    addAdditionalSeat(additionalPerson) {\r\n        this.additionalSeatHolders.push(additionalPerson);\r\n    }\r\n    resetTarrif() {\r\n        this.selectedTarrifDescription = \"\";\r\n        this.selectedTarrif = 0;\r\n        this.step = 1;\r\n    }\r\n    getTarrifSeats() {\r\n        return this.tarrifsService.getSelectedTarrifSeats();\r\n    }\r\n    setPersonalDetails(person) {\r\n        this.personBasicDetails = person;\r\n        if (this.getTarrifSeats() > 1) {\r\n            this.step = 3;\r\n            return;\r\n        }\r\n        this.step = 4;\r\n    }\r\n    setAddress(ad) {\r\n        this.address = ad;\r\n        this.address.id = '00000000-0000-0000-0000-000000000000';\r\n        this.step = 5;\r\n    }\r\n    /*\r\n    async  registerMember(){\r\n       this.loading = true;\r\n        await this.createPerson().then(async () => {\r\n         await this.createAddress().then(async () => {\r\n          await this.createMembership();\r\n         }).catch((e) => {\r\n            alert(e);\r\n         }).catch((e) => {\r\n          alert(e);\r\n         });\r\n        }).catch((e) => {\r\n          alert(e);\r\n        });\r\n    \r\n      }\r\n    async createPerson(){\r\n      this.joinService.createPerson(this.personBasicDetails).subscribe(r => {\r\n        this.personGuid = r;\r\n        this.address.id = r;\r\n        return r;\r\n      }).unsubscribe();\r\n    }\r\n    async createAddress(){\r\n      setTimeout(() => {\r\n        this.joinService.createAddress(this.address).subscribe(r=> {\r\n          return;\r\n        }).unsubscribe();\r\n       }, 500);\r\n    \r\n    } */\r\n    async createMembership() {\r\n        this.loading = true;\r\n        let requestDTO = {\r\n            membership: {\r\n                selectedPaymentMethod: this.selectedPaymentMethod,\r\n                personId: this.personGuid,\r\n                additionalDonation: this.declarations.additonalDonation,\r\n                repeatDonationOnRenewal: this.declarations.additonalDonationRepeatOnRenewal,\r\n                jointHolders: this.additionalSeatHolders,\r\n                membershipTarrifId: this.tarrifsService.selectedTarrif.id,\r\n                giftAidDeclaration: this.declarations.giftAidDecl === 'true' ? true : false,\r\n                cornishman: this.cornishman\r\n            },\r\n            person: this.personBasicDetails,\r\n            address: this.address\r\n        };\r\n        this.joinService.createMembership(requestDTO).subscribe({\r\n            next: (r) => {\r\n                this.loading = false;\r\n                this.step = 7;\r\n                window.location.href = r.paymentUrl;\r\n                return;\r\n            },\r\n            error: (e) => {\r\n                alert(\"We are sorry, but we couldn't create your membership at this time. Please try again later.\");\r\n                this.loading = false;\r\n            }\r\n        });\r\n    }\r\n    toTop() {\r\n        window.scroll(0, 0);\r\n    }\r\n}\r\nJoinHomeComponent.ɵfac = function JoinHomeComponent_Factory(t) { return new (t || JoinHomeComponent)(i0.ɵɵdirectiveInject(i1.TarrifService), i0.ɵɵdirectiveInject(i2.JoinService)); };\r\nJoinHomeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: JoinHomeComponent, selectors: [[\"app-join-home\"]], decls: 7, vars: 6, consts: [[1, \"mb-big\"], [3, \"onTarrifSelect\", 4, \"ngIf\"], [\"class\", \"p-big\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"onTarrifSelect\"], [1, \"p-big\"], [1, \"text-huge\"], [1, \"button\", \"button--small\", 3, \"click\"], [\"class\", \"p-medium\", 4, \"ngIf\"], [3, \"formData\", \"onFormCompleted\"], [\"class\", \"border-top border-bottom p-medium\", 4, \"ngIf\"], [\"class\", \"border-top border-bottom\", 4, \"ngIf\"], [1, \"button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fa-solid\", \"fa-check\"], [1, \"border-top\", \"border-bottom\", \"p-medium\"], [3, \"onFormCompleted\"], [1, \"border-top\", \"border-bottom\"], [1, \"p-medium\"], [3, \"setAddress\", \"onFormComplete\"], [1, \"row\"], [1, \"col\", \"col-md-6\"], [1, \"text-big\"], [1, \"button\", \"button--red\", \"button-small\", 3, \"click\"], [3, \"onMethodSelected\", 4, \"ngIf\"], [3, \"declarations\", \"selectedTarrifBaseRate\", \"declarationsChange\", 4, \"ngIf\"], [\"class\", \"button button-large\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [3, \"onMethodSelected\"], [3, \"declarations\", \"selectedTarrifBaseRate\", \"declarationsChange\"], [1, \"button\", \"button-large\", 3, \"disabled\", \"click\"], [1, \"notification\", \"notification--success\"]], template: function JoinHomeComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"section\", 0);\r\n        i0.ɵɵtemplate(1, JoinHomeComponent_app_tarrifs_list_1_Template, 1, 0, \"app-tarrifs-list\", 1);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(2, JoinHomeComponent_section_2_Template, 13, 4, \"section\", 2);\r\n        i0.ɵɵtemplate(3, JoinHomeComponent_section_3_Template, 56, 14, \"section\", 2);\r\n        i0.ɵɵtemplate(4, JoinHomeComponent_section_4_Template, 4, 3, \"section\", 2);\r\n        i0.ɵɵtemplate(5, JoinHomeComponent_section_5_Template, 4, 0, \"section\", 3);\r\n        i0.ɵɵtemplate(6, JoinHomeComponent_app_please_waitpopup_6_Template, 1, 0, \"app-please-waitpopup\", 3);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.step === 1);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.step >= 2);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.step === 5);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.step === 6);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.step === 7);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\r\n    } }, directives: [i3.NgIf, i4.TarrifsListComponent, i5.PersondetailsFormComponent, i3.NgForOf, i6.AddressFormComponent, i7.PaymentMethodsTableComponent, i8.MembershipDeclarationsComponent, i9.PleaseWaitpopupComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqb2luLWhvbWUuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}